(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"s",(function(){return r})),n.d(t,"q",(function(){return u})),n.d(t,"m",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"n",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return j})),n.d(t,"p",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return v})),n.d(t,"o",(function(){return g})),n.d(t,"i",(function(){return x}));var r=function(e){return e.users.listUser},u=function(e){return e.users.totalUserCount},i=function(e){return e.users.pageSize},c=function(e){return e.users.currentPage},a=function(e){return e.auth.isFetching},o=function(e){return e.auth.isAuth},s=function(e){return e.users.isFollow},f=function(e){return e.sideBar},l=function(e){return e.profile.currentProfile},d=function(e){return e.profile.userComment},p=function(e){return e.auth.id},j=function(e){return e.auth.isSubmitting},b=function(e){return e.profile.status},O=function(e){return e.profile.inputValue},m=function(e){return e.myProfile},h=function(e){return e.message.userComment},v=function(e){return e.message.inputValue},g=function(e){return e.auth.code},x=function(e){return e.profile.isUpdatePhoto}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return h}));var r=n(3),u=n.n(r),i=n(13),c=n(6),a=n(7),o="auth/AUTH FOR SITE",s="auth/TOGGLE LOADER",f="auth/GET ID",l="auth/SET STATUS CODE",d={id:null,isFetching:!1,isAuth:!1,code:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=Object(c.a)({},e);switch(!0){case o===t.type:return n.id=t.data.id,n.email=t.data.email,n.login=t.data.login,n.isAuth=t.isAuth,n;case s===t.type:return n.isFetching=t.isFetching,n;case f===t.type:return n.id=t.id,n.isAuth=!0,n;case l===t.type:return n.code=t.code,n;default:return e}},j=function(e,t){return{type:o,data:Object(c.a)({},e),isAuth:t}},b=function(e){return{type:s,isFetching:e}},O=function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(b(!0)),e.next=3,Object(a.d)();case 3:0===(n=e.sent).data.resultCode?t(j(n.data.data,!0)):t(j({},!1)),t(b(!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.g)(e);case 2:if(0!==(r=t.sent).data.resultCode){t.next=6;break}return n((i=r.data.data.userId,{type:f,id:i})),t.abrupt("return",null);case 6:n((u=r.data.resultCode,{type:l,code:u}));case 8:case"end":return t.stop()}var u,i}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.h)();case 2:0===e.sent.data.resultCode&&t(j({},!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},24:function(e,t,n){"use strict";n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return y})),n.d(t,"i",(function(){return _})),n.d(t,"h",(function(){return w}));var r=n(3),u=n.n(r),i=n(13),c=n(6),a=n(29),o=n(7),s="profile/ADD POST",f="profile/SET PROFILE",l="profile/SET STATUS",d="profile/SET PHOTO",p={userComment:[],inputValue:"",currentProfile:null,status:"",isUpdatePhoto:!1},j=function(e,t,n){e.userComment=Object(a.a)(t.userComment),e.userComment.push(n),e.inputValue=""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=Object(c.a)({},e);switch(!0){case t.type===s:var r={comment:t.value.postText};return j(n,e,r),n;case f===t.type:return n.currentProfile=Object(c.a)({},t.profile),n;case l===t.type:return n.status=t.status,n;case d===t.type:return n.isUpdatePhoto=t.isUpdate,n;default:return e}},O=function(e){return{type:l,status:e}},m=function(e,t){return{type:t,value:e}},h=function(e){return{type:f,profile:Object(c.a)({},e)}},v=function(e){return{type:d,isUpdate:e}},g=function(e,t,n){return function(){var r=Object(i.a)(u.a.mark((function r(i){var c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(t);case 2:c=r.sent,i(e(c.data));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},x=function(e){return g(h,e,o.c)},y=function(e){return g(O,e,o.e)},_=function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.i)(e);case 2:0===t.sent.data.resultCode&&n(O(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.j)(e);case 2:0===t.sent.data.resultCode&&n(v(!0));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},27:function(e,t,n){e.exports={app:"app_app__2qStr",content:"app_content__bHpsh",overlay:"app_overlay__3XKpJ"}},28:function(e,t,n){e.exports={profile:"myProfile_profile__1fPL9",profileImgWrap:"myProfile_profileImgWrap__3SEQl",profileImg:"myProfile_profileImg__L390k",profileInfo:"myProfile_profileInfo__2FPp7"}},35:function(e,t,n){e.exports={header:"header_header__1SwR4",overlay:"header_overlay__qtcXQ",logo:"header_logo__3XfCQ",profile:"header_profile__4aw9U",login:"header_login__3nM7U"}},36:function(e,t,n){e.exports={menuItem:"link_menuItem__38bzC",menuLink:"link_menuLink__2Or_B",active:"link_active__uB0gp"}},37:function(e,t,n){},43:function(e,t,n){e.exports={sideBar:"sideBar_sideBar__2N278"}},44:function(e,t,n){e.exports={loaderImageWrap:"loader_loaderImageWrap__3lApz",loaderImage:"loader_loaderImage__2lc_T"}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(6),u=n(64),i=(n(0),n(63)),c=n.n(i),a=n(1),o=function(){return Object(a.jsx)("label",{className:c.a.message,children:"Uncorrected"})},s=function(e){var t=e.field,n=(e.form,Object(u.a)(e,["field","form"]));return Object(a.jsx)("input",Object(r.a)(Object(r.a)({type:n.type},t),n))}},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(0);var r=n.p+"static/media/spinner.7593a230.svg",u=n(44),i=n.n(u),c=n(1),a=function(){return Object(c.jsx)("div",{className:i.a.loaderImageWrap,children:Object(c.jsx)("img",{src:r,className:i.a.loaderImage,alt:"#"})})}},48:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return k}));var r=n(3),u=n.n(r),i=n(13),c=n(29),a=n(6),o=n(7),s=n(17),f="users/FOLLOW ON USER",l="users/UNFOLLOWUNFOLLOW ON USER",d="users/SET USER",p="users/CHANGE PAGE",j="users/TOGGLE FOLLOWING",b="users/TOGGLE LOADER",O={listUser:[],totalUserCount:0,pageSize:5,currentPage:1,isFetching:!1,isFollow:!1},m=function(e,t){e.listUser.forEach((function(e){e.id===t.id&&(e.followed=!e.followed)}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,n=Object(a.a)({},e);switch(n.listUser=e.listUser.map((function(e){return e})),!0){case t.type===f:case t.type===l:return m(n,t),n;case t.type===d:return n.listUser=Object(c.a)(t.usersArray),n.totalUserCount=t.totalUserCount,n;case t.type===p:return n.currentPage=t.page,n;case t.type===b:return n.isFetching=t.isFetching,n;case t.type===j:return n.isFollow=t.isFollow,n;default:return e}},v=function(e){return{type:j,isFollow:e}},g=function(e){return{type:p,page:e}},x=function(e,t){return{type:e,id:t}},y=function(e,t){return function(){var n=Object(i.a)(u.a.mark((function n(r){var i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(s.b)(!0)),n.next=3,Object(o.f)(e,t);case 3:i=n.sent,r((u=i.data.items,{type:d,usersArray:u,totalUserCount:200})),r(Object(s.b)(!1));case 6:case"end":return n.stop()}var u}),n)})));return function(e){return n.apply(this,arguments)}}()},_=function(){var e=Object(i.a)(u.a.mark((function e(t,n,r,i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(v(!0)),e.next=3,i(n);case 3:0===e.sent.data.resultCode&&(r(x(t,n)),r(v(!1)));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,u){return e.apply(this,arguments)}}(),w=function(e){return function(t){return _(f,e,t,o.a)}},k=function(e){return function(t){return _(l,e,t,o.b)}}},49:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.f1ceef72.jpg"},63:function(e,t,n){e.exports={message:"formComponent_message__18vaT"}},69:function(e,t,n){},7:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return j}));var r=n(58),u=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"98118e87-f74e-47ed-baba-95942234d67c"}}),i=function(e){return u.get("profile/".concat(e))},c=function(e){return u.post("follow/".concat(e))},a=function(e){return u.delete("follow/".concat(e))},o=function(){return u.get("auth/me")},s=function(e,t){return u.get("users?page=".concat(e,"&count=").concat(t))},f=function(e){return u.get("profile/status/".concat(e))},l=function(e){return u.put("profile/status",{status:e})},d=function(e){return u.post("/auth/login",e)},p=function(){return u.delete("/auth/login")},j=function(e){var t=new FormData;return t.append("image",e),u.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},94:function(e,t,n){"use strict";n.r(t);var r=n(0),u=n(31),i=n.n(u),c=(n(69),n(22)),a=n(20),o=n(6),s=n(24),f="message/ADD MESSAGE",l={userComment:[],inputValue:""},d=[{nameLink:"Profile",link:"/profile"},{nameLink:"Message",link:"/message"},{nameLink:"Music",link:"/music"},{nameLink:"About",link:"/about"},{nameLink:"Setting",link:"/setting"},{nameLink:"Find user",link:"/find"}],p=n(48),j=n(17),b=n(3),O=n.n(b),m=n(13),h=n(7),v="profile/SET PROFILE",g={profile:null},x=n(59),y=Object(a.c)({profile:s.c,message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=Object(o.a)({},e);switch(!0){case t.type===f:var r={text:t.value.messageText};return Object(s.e)(n,e,r),n;default:return e}},sideBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return e},users:p.e,auth:j.a,myProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=Object(o.a)({},e);switch(!0){case v===t.type:return n.profile=t.profile,n;default:return e}}}),_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,w=Object(a.e)(y,_(Object(a.d)(Object(a.a)(x.a)))),k=n(8),S=n(27),P=n.n(S),N=n(4),C=n(35),E=n.n(C),L=n(1),U=n(10),A=Object(k.b)((function(e){return{isAuth:Object(U.e)(e)}}),(function(e){return{logoutOnSite:function(){e(Object(j.e)())}}}))((function(e){var t=e.logoutOnSite,n=e.isAuth;return Object(L.jsx)("div",{className:E.a.header,children:Object(L.jsx)("div",{className:"wrapper",children:Object(L.jsxs)("div",{className:E.a.overlay,children:[Object(L.jsx)(c.b,{to:"/",className:E.a.logo}),n?Object(L.jsx)("button",{onClick:t,children:"logout"}):void 0]})})})})),I=n(43),T=n.n(I),F=n(36),B=n.n(F),D=function(e){var t=e.link,n=e.text;return Object(L.jsx)("li",{className:B.a.menuItem,children:Object(L.jsx)(c.b,{to:t,className:B.a.menuLink,activeClassName:B.a.active,children:n})})},G=function(e){return e.sideBar.map((function(e,t){return Object(L.jsx)(D,{link:e.link,text:e.nameLink},t)}))},R=Object(k.b)((function(e){return{sideBar:Object(U.n)(e)}}),(function(){return{}}))((function(e){var t=e.sideBar;return Object(L.jsx)("aside",{className:T.a.sideBar,children:Object(L.jsx)("ul",{className:T.a.menu,children:Object(L.jsx)(G,{sideBar:t})})})})),W=n(28),M=n.n(W),z=n(49),V=function(e){var t=e.myProfile;return Object(L.jsxs)("div",{className:M.a.profile,children:[Object(L.jsx)("div",{className:M.a.profileImgWrap,children:Object(L.jsx)("img",{className:M.a.profileImg,src:t.profile&&t.profile.img?t.profile.img:z.a,alt:"#"})}),Object(L.jsxs)("div",{className:M.a.profileInfo,children:[Object(L.jsx)("p",{children:"\u0418\u043c\u044f: ".concat(t.profile?t.profile.login:"")}),Object(L.jsx)("p",{children:"\u041f\u043e\u0447\u0442\u0430: ".concat(t.profile?t.profile.email:"")}),Object(L.jsx)("p",{children:"\u0418\u043d\u0434\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440: ".concat(t.profile?t.profile.id:"")})]})]})},H=Object(k.b)((function(e){return{myProfile:Object(U.l)(e)}}),(function(e){return{getMyProfile:function(t){e(function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)();case 2:0===(n=e.sent).data.resultCode&&t(Object(s.f)(n.data.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.getMyProfile,n=e.myProfile;return Object(r.useEffect)((function(){t(n)}),[]),Object(L.jsx)(V,{myProfile:n})})),X=n(37),q=n.n(X),J=n(23),Q=Object(k.b)((function(e){return{isAuth:Object(U.e)(e)}}),(function(){return{}}))((function(e){var t=e.onSubmit;return Object(L.jsx)(J.d,{initialValues:{email:"",password:""},onSubmit:t,children:Object(L.jsxs)(J.c,{className:q.a.form,children:[Object(L.jsxs)("div",{children:[Object(L.jsx)(J.b,{component:"input",name:"email",className:q.a.input}),Object(L.jsx)(J.a,{name:"email"})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(J.b,{component:"input",name:"password",type:"password",className:q.a.input}),Object(L.jsx)(J.a,{name:"password"})]}),Object(L.jsx)("button",{type:"submit",children:"Send"})]})})})),K=n(45),Y=Object(k.b)((function(e){return{isAuth:Object(U.e)(e),statusCode:Object(U.o)(e)}}),(function(e){return{loginOnSite:function(t){e(Object(j.d)(t))}}}))((function(e){var t=e.isAuth,n=e.loginOnSite,r=e.statusCode;if(!t)return Object(L.jsxs)("div",{className:"login",children:[Object(L.jsx)("h1",{children:1===r?Object(L.jsx)(K.a,{}):"Login"}),Object(L.jsx)(Q,{onSubmit:function(e){return function(e){n(e)}(e)}})]})})),Z=n(46),$=function(e){return function(){return Object(L.jsx)(r.Suspense,{fallback:Object(L.jsx)(Z.a,{}),children:Object(L.jsx)(e,{})})}},ee=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,256))})),te=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,254))})),ne=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,255))})),re=Object(k.b)((function(e){return{isAuth:Object(U.e)(e)}}),(function(e){return{getMyProfileOnHeader:function(){e(Object(j.c)())}}}))((function(e){var t=e.isAuth,n=e.getMyProfileOnHeader;Object(r.useEffect)((function(){n()}),[]);return Object(L.jsxs)("div",{className:P.a.app,children:[Object(L.jsx)(A,{}),Object(L.jsx)("div",{className:P.a.content,children:Object(L.jsx)("div",{className:"wrapper",children:Object(L.jsxs)("div",{className:P.a.overlay,children:[Object(L.jsx)(R,{}),t?Object(L.jsxs)("div",{className:P.a.appContent,children:[Object(L.jsx)(N.a,{exact:!0,path:"/",render:function(){return Object(L.jsx)(H,{})}}),Object(L.jsx)(N.a,{path:"/profile/:userId?",render:$(te)}),Object(L.jsx)(N.a,{path:"/message",render:$(ee)}),Object(L.jsx)(N.a,{path:"/find",render:$(ne)}),Object(L.jsx)(N.a,{path:"/login",render:function(){return Object(L.jsx)(Y,{})}})]}):Object(L.jsx)(Y,{})]})})})]})}));i.a.render(Object(L.jsx)(c.a,{children:Object(L.jsx)(k.a,{store:w,children:Object(L.jsx)(re,{})})}),document.querySelector("body"))}},[[94,2,3]]]);
//# sourceMappingURL=main.287dea8e.chunk.js.map