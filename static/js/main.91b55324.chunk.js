(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"s",(function(){return r})),n.d(t,"q",(function(){return u})),n.d(t,"m",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"n",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"r",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"p",(function(){return O})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"o",(function(){return x})),n.d(t,"h",(function(){return v}));var r=function(e){return e.users.listUser},u=function(e){return e.users.totalUserCount},i=function(e){return e.users.pageSize},c=function(e){return e.users.currentPage},a=function(e){return e.auth.isFetching},o=function(e){return e.auth.isAuth},s=function(e){return e.users.isFollow},f=function(e){return e.sideBar},l=function(e){return e.profile.currentProfile},d=function(e){return e.profile.isUpdatedProfile},p=function(e){return e.profile.userComment},j=function(e){return e.auth.id},b=function(e){return e.auth.image},O=function(e){return e.profile.status},m=function(e){return e.myProfile},h=function(e){return e.message.userComment},g=function(e){return e.message.inputValue},x=function(e){return e.auth.code},v=function(e){return e.profile.isUpdatePhoto}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return g}));var r=n(3),u=n.n(r),i=n(13),c=n(6),a=n(7),o="auth/AUTH FOR SITE",s="auth/TOGGLE LOADER",f="auth/GET ID",l="auth/SET STATUS CODE",d="auth/SET CAPTCHA",p={id:null,isFetching:!1,isAuth:!1,code:null,image:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=Object(c.a)({},e);switch(!0){case o===t.type:return n.id=t.data.id,n.email=t.data.email,n.login=t.data.login,n.isAuth=t.isAuth,n;case s===t.type:return n.isFetching=t.isFetching,n;case f===t.type:return n.id=t.id,n.isAuth=!0,n;case l===t.type:return n.code=t.code,n;case d===t.type:return n.image=t.image,n;default:return e}},b=function(e,t){return{type:o,data:Object(c.a)({},e),isAuth:t}},O=function(e){return{type:s,isFetching:e}},m=function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O(!0)),e.next=3,Object(a.d)();case 3:0===(n=e.sent).data.resultCode?t(b(n.data.data,!0)):t(b({},!1)),t(O(!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.g)(e);case 2:if(0!==(r=t.sent).data.resultCode){t.next=6;break}return n((i=r.data.data.userId,{type:f,id:i})),t.abrupt("return",null);case 6:n((u=r.data.resultCode,{type:l,code:u}));case 8:case"end":return t.stop()}var u,i}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.h)();case 2:0===e.sent.data.resultCode&&t(b({},!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},24:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return x})),n.d(t,"f",(function(){return v})),n.d(t,"j",(function(){return w})),n.d(t,"d",(function(){return P})),n.d(t,"b",(function(){return k})),n.d(t,"k",(function(){return S})),n.d(t,"i",(function(){return E}));var r=n(3),u=n.n(r),i=n(13),c=n(6),a=n(29),o=n(7),s="profile/ADD POST",f="profile/SET PROFILE",l="profile/SET STATUS",d="profile/SET PHOTO",p="profile/UPDATE PROFILE",j={userComment:[],inputValue:"",currentProfile:null,status:"",isUpdatePhoto:!1,isUpdatedProfile:!1},b=function(e,t,n){e.userComment=Object(a.a)(t.userComment),e.userComment.push(n),e.inputValue=""},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,n=Object(c.a)({},e);switch(!0){case t.type===s:var r={comment:t.value.postText};return b(n,e,r),n;case f===t.type:return n.currentProfile=Object(c.a)({},t.profile),n.contacts=Object(c.a)({},t.profile.contacts),n.photos=Object(c.a)({},t.profile.photos),n;case l===t.type:return n.status=t.status,n;case d===t.type:return n.isUpdatePhoto=t.isUpdate,n;case p===t.type:return n.isUpdatedProfile=t.isUpdateProfile,n;default:return e}},m=function(e){return{type:l,status:e}},h=function(e,t){return{type:t,value:e}},g=function(e){return{type:f,profile:Object(c.a)({},e)}},x=function(e){return{type:d,isUpdate:e}},v=function(e){return{type:o.i,isUpdateProfile:e}},y=function(e,t,n){return function(){var r=Object(i.a)(u.a.mark((function r(i){var c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(t);case 2:c=r.sent,i(e(c.data));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},_=function(e,t,n){return function(){var r=Object(i.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(e);case 2:0===r.sent.data.resultCode&&i(n(e));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.i)(e);case 2:0===t.sent.data.resultCode&&(n(g(e)),n(v(!0)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return y(g,e,o.c)},k=function(e){return y(m,e,o.e)},S=function(e){return _(e,o.j,m)},E=function(e){return _(e,o.k,x)}},26:function(e,t,n){e.exports={app:"app_app__2qStr",content:"app_content__bHpsh",overlay:"app_overlay__3XKpJ"}},28:function(e,t,n){e.exports={profile:"myProfile_profile__1fPL9",profileImgWrap:"myProfile_profileImgWrap__3SEQl",profileImg:"myProfile_profileImg__L390k",profileInfo:"myProfile_profileInfo__2FPp7"}},35:function(e,t,n){e.exports={header:"header_header__1SwR4",overlay:"header_overlay__qtcXQ",logo:"header_logo__3XfCQ",profile:"header_profile__4aw9U",login:"header_login__3nM7U"}},36:function(e,t,n){e.exports={menuItem:"link_menuItem__38bzC",menuLink:"link_menuLink__2Or_B",active:"link_active__uB0gp"}},37:function(e,t,n){},43:function(e,t,n){e.exports={sideBar:"sideBar_sideBar__2N278"}},44:function(e,t,n){e.exports={loaderImageWrap:"loader_loaderImageWrap__3lApz",loaderImage:"loader_loaderImage__2lc_T"}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(6),u=n(64),i=(n(0),n(63)),c=n.n(i),a=n(1),o=function(){return Object(a.jsx)("label",{className:c.a.message,children:"Uncorrected"})},s=function(e){var t=e.field,n=(e.form,Object(u.a)(e,["field","form"]));return Object(a.jsx)("input",Object(r.a)(Object(r.a)({type:n.type},t),n))}},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(0);var r=n.p+"static/media/spinner.7593a230.svg",u=n(44),i=n.n(u),c=n(1),a=function(){return Object(c.jsx)("div",{className:i.a.loaderImageWrap,children:Object(c.jsx)("img",{src:r,className:i.a.loaderImage,alt:"#"})})}},48:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return P}));var r=n(3),u=n.n(r),i=n(13),c=n(29),a=n(6),o=n(7),s=n(17),f="users/FOLLOW ON USER",l="users/UNFOLLOWUNFOLLOW ON USER",d="users/SET USER",p="users/CHANGE PAGE",j="users/TOGGLE FOLLOWING",b="users/TOGGLE LOADER",O={listUser:[],totalUserCount:0,pageSize:5,currentPage:1,isFetching:!1,isFollow:!1},m=function(e,t){e.listUser.forEach((function(e){e.id===t.id&&(e.followed=!e.followed)}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,n=Object(a.a)({},e);switch(n.listUser=e.listUser.map((function(e){return e})),!0){case t.type===f:case t.type===l:return m(n,t),n;case t.type===d:return n.listUser=Object(c.a)(t.usersArray),n.totalUserCount=t.totalUserCount,n;case t.type===p:return n.currentPage=t.page,n;case t.type===b:return n.isFetching=t.isFetching,n;case t.type===j:return n.isFollow=t.isFollow,n;default:return e}},g=function(e){return{type:j,isFollow:e}},x=function(e){return{type:p,page:e}},v=function(e,t){return{type:e,id:t}},y=function(e,t){return function(){var n=Object(i.a)(u.a.mark((function n(r){var i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(s.b)(!0)),n.next=3,Object(o.f)(e,t);case 3:i=n.sent,r((u=i.data.items,{type:d,usersArray:u,totalUserCount:200})),r(Object(s.b)(!1));case 6:case"end":return n.stop()}var u}),n)})));return function(e){return n.apply(this,arguments)}}()},_=function(){var e=Object(i.a)(u.a.mark((function e(t,n,r,i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(g(!0)),e.next=3,i(n);case 3:0===e.sent.data.resultCode&&(r(v(t,n)),r(g(!1)));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,u){return e.apply(this,arguments)}}(),w=function(e){return function(t){return _(f,e,t,o.a)}},P=function(e){return function(t){return _(l,e,t,o.b)}}},49:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.f1ceef72.jpg"},63:function(e,t,n){e.exports={message:"formComponent_message__18vaT"}},69:function(e,t,n){},7:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"k",(function(){return j})),n.d(t,"i",(function(){return b}));var r=n(58),u=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"98118e87-f74e-47ed-baba-95942234d67c"}}),i=function(e){return u.get("profile/".concat(e))},c=function(e){return u.post("follow/".concat(e))},a=function(e){return u.delete("follow/".concat(e))},o=function(){return u.get("auth/me")},s=function(e,t){return u.get("users?page=".concat(e,"&count=").concat(t))},f=function(e){return u.get("profile/status/".concat(e))},l=function(e){return u.put("profile/status",{status:e})},d=function(e){return u.post("/auth/login",e)},p=function(){return u.delete("/auth/login")},j=function(e){var t=new FormData;return t.append("image",e),u.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},b=function(e){return u.put("/profile",e)}},94:function(e,t,n){"use strict";n.r(t);var r=n(0),u=n(31),i=n.n(u),c=(n(69),n(23)),a=n(21),o=n(6),s=n(24),f="message/ADD MESSAGE",l={userComment:[],inputValue:""},d=[{nameLink:"Profile",link:"/profile"},{nameLink:"Message",link:"/message"},{nameLink:"Music",link:"/music"},{nameLink:"About",link:"/about"},{nameLink:"Setting",link:"/setting"},{nameLink:"Find user",link:"/find"}],p=n(48),j=n(17),b=n(3),O=n.n(b),m=n(13),h=n(7),g="profile/SET PROFILE",x={profile:null},v=n(59),y=Object(a.c)({profile:s.c,message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=Object(o.a)({},e);switch(!0){case t.type===f:var r={text:t.value.messageText};return Object(s.e)(n,e,r),n;default:return e}},sideBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return e},users:p.e,auth:j.a,myProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=Object(o.a)({},e);switch(!0){case g===t.type:return n.profile=t.profile,n;default:return e}}}),_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,w=Object(a.e)(y,_(Object(a.d)(Object(a.a)(v.a)))),P=n(8),k=n(26),S=n.n(k),E=n(35),C=n.n(E),U=n(1),N=n(10),L=Object(P.b)((function(e){return{isAuth:Object(N.e)(e)}}),(function(e){return{logoutOnSite:function(){e(Object(j.e)())}}}))((function(e){var t=e.logoutOnSite,n=e.isAuth;return Object(U.jsx)("div",{className:C.a.header,children:Object(U.jsx)("div",{className:"wrapper",children:Object(U.jsxs)("div",{className:C.a.overlay,children:[Object(U.jsx)(c.b,{to:"/",className:C.a.logo}),n?Object(U.jsx)("button",{onClick:t,children:"logout"}):void 0]})})})})),A=n(43),I=n.n(A),T=n(36),F=n.n(T),B=function(e){var t=e.link,n=e.text;return Object(U.jsx)("li",{className:F.a.menuItem,children:Object(U.jsx)(c.b,{to:t,className:F.a.menuLink,activeClassName:F.a.active,children:n})})},D=function(e){return e.sideBar.map((function(e,t){return Object(U.jsx)(B,{link:e.link,text:e.nameLink},t)}))},R=Object(P.b)((function(e){return{sideBar:Object(N.n)(e)}}),(function(){return{}}))((function(e){var t=e.sideBar;return Object(U.jsx)("aside",{className:I.a.sideBar,children:Object(U.jsx)("ul",{className:I.a.menu,children:Object(U.jsx)(D,{sideBar:t})})})})),G=n(4),W=n(28),M=n.n(W),z=n(49),H=function(e){var t=e.myProfile;return Object(U.jsxs)("div",{className:M.a.profile,children:[Object(U.jsx)("div",{className:M.a.profileImgWrap,children:Object(U.jsx)("img",{className:M.a.profileImg,src:t.profile&&t.profile.img?t.profile.img:z.a,alt:"#"})}),Object(U.jsxs)("div",{className:M.a.profileInfo,children:[Object(U.jsx)("p",{children:"\u0418\u043c\u044f: ".concat(t.profile?t.profile.login:"")}),Object(U.jsx)("p",{children:"\u041f\u043e\u0447\u0442\u0430: ".concat(t.profile?t.profile.email:"")}),Object(U.jsx)("p",{children:"\u0418\u043d\u0434\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440: ".concat(t.profile?t.profile.id:"")})]})]})},V=Object(P.b)((function(e){return{myProfile:Object(N.l)(e)}}),(function(e){return{getMyProfile:function(t){e(function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)();case 2:0===(n=e.sent).data.resultCode&&t(Object(s.g)(n.data.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.getMyProfile,n=e.myProfile;return Object(r.useEffect)((function(){t(n)}),[]),Object(U.jsx)(H,{myProfile:n})})),X=n(46),q=function(e){return function(){return Object(U.jsx)(r.Suspense,{fallback:Object(U.jsx)(X.a,{}),children:Object(U.jsx)(e,{})})}},J=n(37),Q=n.n(J),K=n(20),Y=Object(P.b)((function(e){return{image:Object(N.d)(e)}}),(function(){return{}}))((function(e){var t=e.onSubmit,n=e.image;return Object(U.jsx)(K.d,{initialValues:{email:"",password:"",captcha:""},onSubmit:t,children:Object(U.jsxs)(K.c,{className:Q.a.form,children:[Object(U.jsxs)("div",{children:[Object(U.jsx)(K.b,{component:"input",name:"email",className:Q.a.input}),Object(U.jsx)(K.a,{name:"email"})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)(K.b,{component:"input",name:"password",type:"password",className:Q.a.input}),Object(U.jsx)(K.a,{name:"password"})]}),n?Object(U.jsx)("img",{src:n,alt:"",style:{width:"200px",height:"200px"}}):null,Object(U.jsx)(K.b,{name:"captcha"}),Object(U.jsx)("button",{type:"submit",children:"Send"})]})})})),Z=n(45),$=Object(P.b)((function(e){return{isAuth:Object(N.e)(e),statusCode:Object(N.o)(e)}}),(function(e){return{loginOnSite:function(t){e(Object(j.d)(t))}}}))((function(e){var t=e.isAuth,n=e.loginOnSite,r=e.statusCode;if(!t)return Object(U.jsxs)("div",{className:"login",children:[Object(U.jsx)("h1",{children:1===r?Object(U.jsx)(Z.a,{}):"Login"}),Object(U.jsx)(Y,{onSubmit:function(e){return function(e){n(e)}(e)}})]})})),ee=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,256))})),te=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,254))})),ne=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,255))})),re=function(){return Object(U.jsxs)("div",{className:S.a.appContent,children:[Object(U.jsx)(G.a,{exact:!0,path:"/",render:function(){return Object(U.jsx)(V,{})}}),Object(U.jsx)(G.a,{path:"/profile/:userId?",render:q(te)}),Object(U.jsx)(G.a,{path:"/message",render:q(ee)}),Object(U.jsx)(G.a,{path:"/find",render:q(ne)}),Object(U.jsx)(G.a,{path:"/login",render:function(){return Object(U.jsx)($,{})}})]})},ue=Object(P.b)((function(e){return{isAuth:Object(N.e)(e)}}),(function(e){return{getMyProfileOnHeader:function(){e(Object(j.c)())}}}))((function(e){var t=e.isAuth,n=e.getMyProfileOnHeader;return Object(r.useEffect)((function(){n()}),[]),Object(U.jsxs)("div",{className:S.a.app,children:[Object(U.jsx)(L,{}),Object(U.jsx)("div",{className:S.a.content,children:Object(U.jsx)("div",{className:"wrapper",children:Object(U.jsxs)("div",{className:S.a.overlay,children:[Object(U.jsx)(R,{}),t?Object(U.jsx)(re,{}):Object(U.jsx)($,{})]})})})]})}));i.a.render(Object(U.jsx)(c.a,{children:Object(U.jsx)(P.a,{store:w,children:Object(U.jsx)(ue,{})})}),document.querySelector("body"))}},[[94,2,3]]]);
//# sourceMappingURL=main.91b55324.chunk.js.map